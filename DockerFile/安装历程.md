# cpu版本（新版代码）

## 从docker file 构建镜像
先改名，改成 Dockerfile （无后缀）
```
docker build -t lerobot_cpu:latest .
```

## 容器构建参数

共享 /dev 设备文件夹

```
    --privileged \
```

共享文件夹， 主机`~/Downloads/`  -> 容器 `/share`

```
    -v ~/Downloads/:/share \
```

设置主机可以显示容器窗口（显示cv2的窗口）

    -e DISPLAY=$DISPLAY \
    -v /tmp/.X11-unix:/tmp/.X11-unix \



## 容器构建命令

```
docker run -it -d \
    --name lerobot_container \
    --privileged \
    -v ~/Downloads/:/share \
    -e DISPLAY=$DISPLAY \
    -v /tmp/.X11-unix:/tmp/.X11-unix \
    lerobot_cpu:latest
```

 确保宿主机允许 X11 访问，在宿主机（非容器）运行：

```
xhost +local:
```



## 其他问题

### vscode终端两个 venv

```
source /opt/venv/bin/activate
```

或者

```
source ~/.bashrc
```



### 找不到接口？

查找命令

```
python lerobot/scripts/find_motors_bus_port.py
```

拔掉 串口，主机的 ` /dev/ttyACM1` 会消失，而容器的` /dev/ttyACM1`仍会留下

解决：手动看（在主机）

```
ls /dev | grep ttyACM
```

```
➜  Downloads ls /dev | grep ttyACM  # 两串口都插上
ttyACM0
ttyACM1
➜  Downloads ls /dev | grep ttyACM  # 拔掉主臂串口
ttyACM1
```

说明主臂是 `ttyACM0`





# cpu版本（旧版代码）

ModuleNotFoundError: No module named 'omegaconf'

```
pip install omegaconf
```

ModuleNotFoundError: No module named 'hydra'

```
pip install hydra-core --upgrade
```

